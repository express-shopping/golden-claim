<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hamster Ultimate Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #f3ba2f; --blue: #007aff; --bg: #050505;
            --card: #151515; --text: #ffffff; --sub-text: #a0a0a0;
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; user-select: none; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Cairo', sans-serif; overflow: hidden; }

        /* --- Ù†Ø¸Ø§Ù… Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ --- */
        .header { display: flex; justify-content: space-between; padding: 15px; align-items: center; position: fixed; top: 0; width: 100%; z-index: 1000; background: rgba(5,5,5,0.8); backdrop-filter: blur(10px); }
        .user-box { display: flex; align-items: center; gap: 10px; }
        .user-img { width: 40px; height: 40px; border-radius: 12px; border: 2px solid var(--gold); }
        .settings-btn { font-size: 20px; cursor: pointer; background: var(--card); padding: 5px 10px; border-radius: 10px; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø³ØªÙˆÙ‰ (Ø§Ù„Ù„ÙŠÙÙ„) --- */
        .level-container { padding: 75px 20px 10px; }
        .level-info { display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 5px; }
        .level-bar { width: 100%; height: 8px; background: #222; border-radius: 10px; overflow: hidden; border: 1px solid #333; }
        .level-fill { width: 10%; height: 100%; background: linear-gradient(90deg, var(--gold), #fff); transition: width 0.5s ease; }

        /* --- Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª --- */
        .page { display: none; height: 100vh; padding: 20px; overflow-y: auto; padding-bottom: 150px; }
        .active-page { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- ØµÙØ­Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø© (Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙƒÙ„ÙŠØ§Ù‹) --- */
        .wallet-card { background: linear-gradient(135deg, #1e1e1e 0%, #000 100%); padding: 30px 20px; border-radius: 25px; border: 1px solid #333; text-align: center; margin-top: 20px; }
        .wallet-balance { font-size: 35px; font-weight: 900; color: var(--gold); margin: 15px 0; }
        .wallet-btn { background: var(--blue); color: white; border: none; width: 100%; padding: 15px; border-radius: 15px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }

        /* --- ØµÙØ­Ø© Ø§Ù„Ù…Ù‡Ø§Ù… EARN --- */
        .daily-scroll { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; }
        .day-card { min-width: 80px; background: var(--card); padding: 15px 10px; border-radius: 15px; text-align: center; border: 1px solid #333; }
        .day-card.active { border-color: var(--gold); background: rgba(243, 186, 47, 0.1); }
        .task-item { background: var(--card); padding: 15px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; border: 1px solid #222; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ù‚Ø± --- */
        .tap-hero { text-align: center; margin: 40px 0; }
        .balance-main { font-size: 45px; font-weight: 900; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .coin-btn { width: 260px; height: 260px; margin: 0 auto; position: relative; cursor: pointer; transition: transform 0.05s; }
        .coin-btn:active { transform: scale(0.95); }
        .coin-btn img { width: 100%; height: 100%; border-radius: 50%; border: 8px solid var(--card); box-shadow: 0 0 50px rgba(243, 186, 47, 0.1); }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø·Ø§Ù‚Ø© --- */
        .energy-wrapper { position: fixed; bottom: 100px; width: 100%; padding: 0 25px; }
        .energy-bar-bg { width: 100%; height: 12px; background: #111; border-radius: 10px; border: 1px solid #333; overflow: hidden; }
        .energy-bar-fill { height: 100%; background: linear-gradient(90deg, var(--gold), #ffee58); transition: width 0.2s; }

        /* --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© --- */
        .nav-bar { position: fixed; bottom: 15px; left: 15px; right: 15px; background: rgba(20,20,20,0.95); backdrop-filter: blur(15px); display: flex; justify-content: space-around; padding: 10px 5px; border-radius: 25px; border: 1px solid #333; }
        .nav-item { text-align: center; font-size: 11px; color: var(--sub-text); cursor: pointer; flex: 1; }
        .nav-item.active { color: white; }
        .nav-item i { font-size: 22px; display: block; margin-bottom: 4px; }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ØªØ·Ø§ÙŠØ± */
        .pop-num { position: absolute; font-size: 30px; font-weight: 900; color: white; pointer-events: none; animation: popUp 0.8s forwards; z-index: 1000; }
        @keyframes popUp { to { transform: translateY(-150px); opacity: 0; } }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-box">
            <img id="u-img" src="https://api.dicebear.com/7.x/bottts/svg?seed=Mugahed" class="user-img">
            <div>
                <b id="u-name">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</b>
                <div style="font-size: 9px; color: var(--gold);">CEO â€¢ LVL <span id="lvl-badge">1</span></div>
            </div>
        </div>
        <div class="settings-btn" onclick="openSettings()">âš™ï¸</div>
    </div>

    <div id="home-page" class="page active-page">
        <div class="level-container">
            <div class="level-info">
                <span>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ <b id="lvl-num">1</b>/11</span>
                <span>Ø§Ù„Ø±Ø¨Ø­: <b style="color:var(--gold)">+0</b></span>
            </div>
            <div class="level-bar"><div id="lvl-fill" class="level-fill"></div></div>
        </div>

        <div class="tap-hero">
            <div class="balance-main">
                <img src="https://cdn-icons-png.flaticon.com/512/6585/6585012.png" width="40">
                <span id="bal-txt">0</span>
            </div>
            <div class="coin-btn" id="tap-trigger">
                <img src="https://img.freepik.com/premium-photo/cute-hamster-businessman-suit-generative-ai_955925-45.jpg">
            </div>
        </div>
    </div>

    <div id="earn-page" class="page">
        <h2 style="margin-top: 60px;">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
        <div class="daily-scroll" id="daily-days">
            </div>

        <h2 style="margin-top: 20px;">Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„</h2>
        <div class="task-item">
            <span>Ø¥Ø´ØªØ±Ùƒ ÙÙŠ Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</span>
            <button class="settings-btn" style="background:var(--blue); color:white;" onclick="doTask('https://t.me/yourlink', 5000, this)">+5K</button>
        </div>
        <div class="task-item">
            <span>Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù„Ù‰ ØªÙŠÙƒ ØªÙˆÙƒ</span>
            <button class="settings-btn" style="background:var(--blue); color:white;" onclick="doTask('https://tiktok.com', 3000, this)">+3K</button>
        </div>
    </div>

    <div id="wallet-page" class="page">
        <h2 style="margin-top: 60px; text-align: center;">Airdrop & Wallet</h2>
        <div class="wallet-card">
            <img src="https://img.icons8.com/fluency/96/wallet.png" width="70">
            <div style="color: var(--sub-text); margin-top: 10px;">Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨</div>
            <div class="wallet-balance" id="w-bal">0</div>
            <button class="wallet-btn" onclick="tg.showAlert('Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© TON Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬!')">
                <img src="https://ton.org/download/ton_symbol.png" width="20">
                Connect Wallet
            </button>
        </div>
        <div style="padding: 20px; color: var(--sub-text); font-size: 13px; text-align: center;">
            <p>Ø³ÙŠØªÙ… ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª (TGE) Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆØ§Ùƒ ÙˆÙ†Ø´Ø§Ø·Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ.</p>
        </div>
    </div>

    <div class="energy-wrapper">
        <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 14px; margin-bottom: 5px;">
            <span>âš¡ <span id="en-txt">1000</span> / 1000</span>
        </div>
        <div class="energy-bar-bg"><div id="en-fill" class="energy-bar-fill"></div></div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="showTab('home-page', this)"><i>ğŸ </i><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
        <div class="nav-item" onclick="showTab('earn-page', this)"><i>ğŸ’°</i><span>Ø§Ù„Ù…Ù‡Ø§Ù…</span></div>
        <div class="nav-item" onclick="showTab('wallet-page', this)"><i>ğŸ’</i><span>Ø§Ù„Ù…Ø­ÙØ¸Ø©</span></div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let balance = 0;
        let energy = 1000;
        let level = 1;

        // [1] Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (Ø¥ØµÙ„Ø§Ø­ ÙƒØ§Ù…Ù„)
        function showTab(tabId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active-page');
            el.classList.add('active');
        }

        // [2] Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø± (Tap)
        const trigger = document.getElementById('tap-trigger');
        trigger.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy >= 1) {
                balance += 1;
                energy -= 1;
                createPop(e.touches[0].clientX, e.touches[0].clientY);
                updateUI();
                tg.HapticFeedback.impactOccurred('medium');
            }
        });

        function createPop(x, y) {
            const num = document.createElement('div');
            num.className = 'pop-num';
            num.innerText = '+1';
            num.style.left = `${x - 15}px`;
            num.style.top = `${y - 50}px`;
            document.body.appendChild(num);
            setTimeout(() => num.remove(), 800);
        }

        // [3] Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (7 Ø£ÙŠØ§Ù…)
        function initDaily() {
            const container = document.getElementById('daily-days');
            for (let i = 1; i <= 7; i++) {
                const amt = i * 100;
                container.innerHTML += `
                    <div class="day-card" onclick="claimDay(${amt}, this)">
                        <div style="font-size:10px">ÙŠÙˆÙ… ${i}</div>
                        <b>+${amt}</b>
                    </div>
                `;
            }
        }

        function claimDay(amt, el) {
            if(!el.classList.contains('active')) {
                balance += amt;
                el.classList.add('active');
                el.innerHTML = "ØªÙ… âœ“";
                updateUI();
                tg.showAlert(`Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ø³ØªÙ„Ù…Øª ${amt} Ø¹Ù…Ù„Ø©.`);
            }
        }

        function doTask(url, amt, btn) {
            tg.openLink(url);
            setTimeout(() => {
                balance += amt;
                btn.innerText = "ØªÙ… âœ“";
                btn.disabled = true;
                updateUI();
            }, 3000);
        }

        // [4] ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function updateUI() {
            document.getElementById('bal-txt').innerText = balance.toLocaleString();
            document.getElementById('w-bal').innerText = balance.toLocaleString();
            document.getElementById('en-txt').innerText = energy;
            document.getElementById('en-fill').style.width = (energy / 10) + "%";
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù„ÙŠÙÙ„
            level = Math.floor(balance / 2000) + 1;
            if (level > 11) level = 11;
            document.getElementById('lvl-num').innerText = level;
            document.getElementById('lvl-badge').innerText = level;
            document.getElementById('lvl-fill').style.width = (level * 9) + "%";
        }

        // [5] Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function openSettings() {
            tg.showPopup({
                title: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
                message: 'ØªØ­ÙƒÙ… ÙÙŠ ØªÙØ¶ÙŠÙ„Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ',
                buttons: [{text: 'ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…', type: 'default'}, {text: 'Ø¥ØºÙ„Ø§Ù‚', type: 'destructive'}]
            });
        }

        // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        setInterval(() => {
            if (energy < 1000) { energy += 1; updateUI(); }
        }, 1500);

        // Ø³Ø­Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ø¬Ø±Ø§Ù…
        const user = tg.initDataUnsafe.user;
        if (user) {
            document.getElementById('u-name').innerText = user.first_name;
            if (user.photo_url) document.getElementById('u-img').src = user.photo_url;
        }

        initDaily();
        updateUI();
    </script>
</body>
</html>

