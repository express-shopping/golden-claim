<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elite Hamster | Premium Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gold: #fbbf24;
            --accent-blue: #60a5fa;
            --bg-deep: #020617;
            --card-glass: rgba(30, 41, 59, 0.5);
            --text-white: #ffffff;
        }

        body {
            margin: 0; padding: 0;
            background: radial-gradient(circle at top, #0f172a, #020617);
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Elite Header --- */
        .header {
            display: flex; align-items: center; padding: 25px 20px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.4), transparent);
        }
        .user-pic {
            width: 55px; height: 55px; border-radius: 50%;
            border: 2px solid var(--accent-blue);
            box-shadow: 0 0 15px rgba(96, 165, 250, 0.3);
            background-size: cover;
        }
        .user-meta { margin-left: 15px; flex-grow: 1; }
        .user-name { 
            font-weight: 800; font-size: 18px; 
            color: var(--text-white) !important; /* White Username as requested */
            letter-spacing: -0.5px;
        }
        .level-container { margin-top: 4px; }
        .level-text { font-size: 11px; text-transform: uppercase; color: var(--accent-blue); font-weight: 600; }
        
        .level-progress-bg { 
            width: 120px; height: 4px; background: rgba(255,255,255,0.1); 
            border-radius: 10px; margin-top: 6px; overflow: hidden;
        }
        .level-progress-fill { 
            width: 30%; height: 100%; 
            background: linear-gradient(90deg, var(--accent-blue), #c084fc); 
            box-shadow: 0 0 10px var(--accent-blue);
        }

        /* --- Stats Board --- */
        .stats-top {
            display: flex; justify-content: space-around;
            padding: 10px 20px; margin-top: -10px;
        }
        .stat-item { text-align: center; }
        .stat-label { font-size: 10px; color: #94a3b8; text-transform: uppercase; }
        .stat-value { font-weight: 700; color: var(--primary-gold); font-size: 14px; }

        /* --- Balance & Tap --- */
        .main-content { text-align: center; margin-top: 20px; }
        .balance-container { 
            font-size: 48px; font-weight: 800; margin-bottom: 25px;
            display: flex; align-items: center; justify-content: center; gap: 12px;
        }
        .balance-container img { width: 40px; }

        /* Sleek Tap Circle */
        .tap-wrapper {
            position: relative; width: 240px; height: 240px; margin: 0 auto;
            display: flex; align-items: center; justify-content: center;
        }
        .tap-circle {
            width: 210px; height: 210px; border-radius: 50%;
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border: 4px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4), inset 0 0 20px rgba(96, 165, 250, 0.1);
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer; position: relative; z-index: 2;
        }
        .tap-circle:active { transform: scale(0.95); }
        .tap-circle img { width: 85%; border-radius: 50%; pointer-events: none; opacity: 0.9; }

        /* Animated Ring */
        .tap-ring {
            position: absolute; width: 230px; height: 230px;
            border-radius: 50%; border: 1px solid var(--accent-blue);
            opacity: 0.3; animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.3; }
            100% { transform: scale(1.1); opacity: 0; }
        }

        /* Floating Number */
        .tap-number {
            position: absolute; color: white; font-weight: 800; font-size: 28px;
            pointer-events: none; animation: floatUp 0.7s ease-out forwards;
            text-shadow: 0 4px 10px rgba(0,0,0,0.5); z-index: 1000;
        }
        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-120px); }
        }

        /* --- Energy Bar --- */
        .energy-section { width: 75%; margin: 40px auto; }
        .energy-info { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 8px; font-weight: 600; }
        .energy-bar-bg { height: 8px; background: rgba(255,255,255,0.05); border-radius: 10px; }
        .energy-bar-fill { 
            height: 100%; border-radius: 10px;
            background: linear-gradient(90deg, #f59e0b, #fbbf24); 
            width: 100%; transition: width 0.3s;
        }

        /* --- Navigation --- */
        .nav-bar {
            position: fixed; bottom: 20px; left: 5%; width: 90%;
            background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(15px);
            display: flex; justify-content: space-around; padding: 12px 0;
            border-radius: 24px; border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .nav-btn { text-align: center; color: #64748b; font-size: 10px; font-weight: 600; text-transform: uppercase; cursor: pointer; }
        .nav-btn.active { color: var(--accent-blue); }
        .nav-btn div { font-size: 20px; margin-bottom: 4px; }

        /* --- Pages --- */
        .page {
            position: fixed; inset: 0; background: var(--bg-deep); z-index: 200;
            display: none; padding: 30px 20px; overflow-y: auto;
        }
        .page.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(1.05); } to { opacity: 1; transform: scale(1); } }
        
        .close-btn { font-size: 28px; color: var(--accent-blue); margin-bottom: 20px; display: block; text-decoration: none; }
        .card-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .shop-card {
            background: var(--card-glass); padding: 20px; border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05); text-align: center;
        }
        .shop-card h4 { margin: 0; font-size: 14px; letter-spacing: 0.5px; }
        .shop-card .profit { font-size: 12px; color: var(--primary-gold); margin: 8px 0; }
        .buy-btn {
            background: var(--accent-blue); border: none; color: white; width: 100%;
            padding: 10px; border-radius: 12px; font-weight: 800; font-size: 12px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-pic" id="u-pic"></div>
        <div class="user-meta">
            <div class="user-name" id="u-name">ELITE USER</div>
            <div class="level-container">
                <span class="level-text">Level <span id="lvl-num">1</span></span>
                <div class="level-progress-bg"><div class="level-progress-fill" id="lvl-bar"></div></div>
            </div>
        </div>
    </div>

    <div class="stats-top">
        <div class="stat-item">
            <div class="stat-label">Profit per Hour</div>
            <div class="stat-value" id="p-hour">+0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Tap Value</div>
            <div class="stat-value" id="t-val">1</div>
        </div>
    </div>

    <div class="main-content">
        <div class="balance-container">
            <img src="https://cdn-icons-png.flaticon.com/512/6585/6585012.png">
            <span id="balance">0</span>
        </div>

        <div class="tap-wrapper">
            <div class="tap-ring"></div>
            <div class="tap-circle" id="tap-zone">
                <img src="https://img.freepik.com/premium-photo/cute-hamster-businessman-suit-generative-ai_955925-45.jpg">
            </div>
        </div>

        <div class="energy-section">
            <div class="energy-info">
                <span>‚ö° Energy</span>
                <span><span id="energy-text">1000</span> / 1000</span>
            </div>
            <div class="energy-bar-bg"><div class="energy-bar-fill" id="energy-fill"></div></div>
        </div>
    </div>

    <div id="shop-page" class="page">
        <a href="#" class="close-btn" onclick="closePage('shop-page')">‚úï</a>
        <h2 style="margin-bottom: 25px;">Upgrades</h2>
        <div class="card-grid">
            <div class="shop-card">
                <h4>Mining Rig v1</h4>
                <div class="profit">+500/hr</div>
                <button class="buy-btn" onclick="buyCard(500, 2000)">2,000 ü™ô</button>
            </div>
            <div class="shop-card">
                <h4>Cloud Farm</h4>
                <div class="profit">+1.5K/hr</div>
                <button class="buy-btn" onclick="buyCard(1500, 5000)">5,000 ü™ô</button>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-btn active" onclick="closeAllPages()"><div>üè†</div>Home</div>
        <div class="nav-btn" onclick="openPage('shop-page')"><div>üöÄ</div>Mine</div>
        <div class="nav-btn" onclick="alert('Coming Soon')"><div>üë•</div>Friends</div>
        <div class="nav-btn" onclick="alert('Coming Soon')"><div>üí∞</div>Earn</div>
        <div class="nav-btn" onclick="alert('Coming Soon')"><div>üíé</div>Wallet</div>
    </nav>

    <script>
        let balance = 0;
        let energy = 1000;
        let profit = 0;
        let exp = 0;
        let tapValue = 1;

        const tapZone = document.getElementById('tap-zone');

        // Professional Touch Handling
        tapZone.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy >= tapValue) {
                balance += tapValue;
                energy -= tapValue;
                exp += 5;

                const touch = e.touches[0];
                createFloatingNumber(touch.clientX, touch.clientY);
                updateUI();
                
                if(window.Telegram.WebApp.HapticFeedback) {
                    window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
                }
            }
        });

        function createFloatingNumber(x, y) {
            const num = document.createElement('div');
            num.className = 'tap-number';
            num.innerText = `+${tapValue}`;
            num.style.left = `${x - 15}px`;
            num.style.top = `${y - 30}px`;
            document.body.appendChild(num);
            setTimeout(() => num.remove(), 700);
        }

        function updateUI() {
            document.getElementById('balance').innerText = Math.floor(balance).toLocaleString();
            document.getElementById('energy-text').innerText = energy;
            document.getElementById('energy-fill').style.width = (energy / 10) + "%";
            document.getElementById('p-hour').innerText = `+${profit.toLocaleString()}`;
            
            // Level Logic
            let lvl = Math.floor(exp / 500) + 1;
            document.getElementById('lvl-num').innerText = lvl;
            document.getElementById('lvl-bar').style.width = (exp % 500) / 5 + "%";
        }

        function openPage(id) {
            document.getElementById(id).classList.add('active');
        }
        function closePage(id) {
            document.getElementById(id).classList.remove('active');
        }
        function closeAllPages() {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        }

        function buyCard(pAdd, cost) {
            if (balance >= cost) {
                balance -= cost;
                profit += pAdd;
                updateUI();
            } else {
                window.Telegram.WebApp.showAlert("Not enough balance!");
            }
        }

        // Telegram Integration
        const tg = window.Telegram.WebApp;
        tg.expand();
        if (tg.initDataUnsafe.user) {
            document.getElementById('u-name').innerText = tg.initDataUnsafe.user.first_name.toUpperCase();
            if (tg.initDataUnsafe.user.photo_url) {
                document.getElementById('u-pic').style.backgroundImage = `url('${tg.initDataUnsafe.user.photo_url}')`;
            }
        }

        // Auto-Profit and Energy Recovery
        setInterval(() => {
            if (profit > 0) {
                balance += (profit / 3600);
                updateUI();
            }
            if (energy < 1000) {
                energy += 2;
                updateUI();
            }
        }, 1000);

        updateUI();
    </script>
</body>
</html>

