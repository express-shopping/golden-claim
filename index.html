<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hamster Pro Platinum</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0b0e11;
            --card-bg: #1c1f24;
            --gold: #f3ba2f;
            --text-main: #ffffff;
            --text-sub: #848b94;
            --accent: #2ebd67;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Cairo', sans-serif;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆÙ†Ø¸Ø§Ù… Ø§Ù„Ù„ÙŠÙÙ„ --- */
        .user-header { display: flex; justify-content: space-between; padding: 15px; align-items: center; }
        .level-container { flex-grow: 1; margin: 0 15px; }
        .level-info { display: flex; justify-content: space-between; font-size: 10px; margin-bottom: 4px; }
        .level-bar-bg { width: 100%; height: 6px; background: #333; border-radius: 10px; }
        .level-bar-fill { width: 10%; height: 100%; background: var(--gold); border-radius: 10px; transition: 0.3s; }

        /* --- Ø§Ù„ØµÙØ­Ø§Øª --- */
        .page { display: none; padding: 20px; height: 80vh; overflow-y: auto; padding-bottom: 120px; }
        .page.active { display: block; }

        /* --- Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© (Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©) --- */
        .top-tasks-box {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 10px;
        }
        .task-card {
            background: var(--card-bg); padding: 10px; border-radius: 12px;
            text-align: center; border: 1px solid #333; cursor: pointer;
        }
        .task-card img { width: 25px; }
        .task-card div { font-size: 10px; margin-top: 5px; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ù‚Ø± --- */
        .balance-section { text-align: center; margin: 20px 0; font-size: 35px; font-weight: 900; }
        .hamster-btn {
            width: 250px; height: 250px; border-radius: 50%;
            margin: 0 auto; display: block; border: 10px solid #25282e;
            box-shadow: 0 0 30px rgba(243, 186, 47, 0.2);
            transition: transform 0.05s; cursor: pointer;
        }
        .hamster-btn:active { transform: scale(0.95); }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø³ÙÙ„ÙŠ --- */
        .energy-wrapper { width: 80%; margin: 20px auto; text-align: center; }
        .energy-bar { height: 10px; background: #222; border-radius: 10px; margin-top: 5px; overflow: hidden; }
        .energy-fill { width: 100%; height: 100%; background: linear-gradient(90deg, #f3ba2f, #fce08d); }

        /* --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: #1c1f24;
            display: flex; justify-content: space-around; padding: 15px 0;
            border-top: 1px solid #333;
        }
        .nav-item { font-size: 12px; color: var(--text-sub); text-align: center; cursor: pointer; }
        .nav-item.active { color: var(--gold); }

        /* --- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ù‡Ø§Ù… --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 1000; padding: 20px; box-sizing: border-box;
        }
        .daily-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 20px; }
        .day-box { background: #333; padding: 10px; border-radius: 8px; text-align: center; font-size: 12px; opacity: 0.5; }
        .day-box.active { border: 1px solid var(--gold); opacity: 1; background: #444; }

        .social-task {
            display: flex; justify-content: space-between; background: #25282e;
            padding: 12px; border-radius: 10px; margin-bottom: 10px; align-items: center;
        }
        .social-task button { background: var(--gold); border: none; padding: 5px 10px; border-radius: 5px; }
    </style>
</head>
<body>

    <div class="user-header">
        <div style="width: 40px; height: 40px; background: #444; border-radius: 8px;" id="user-avatar"></div>
        <div class="level-container">
            <div class="level-info">
                <span id="level-name">Bronze</span>
                <span>Level <span id="level-num">1</span>/10</span>
            </div>
            <div class="level-bar-bg"><div class="level-bar-fill" id="level-fill"></div></div>
        </div>
        <img src="https://img.icons8.com/ios-filled/50/ffffff/settings.png" width="25" onclick="toggleModal('settings-modal')">
    </div>

    <div class="top-tasks-box">
        <div class="task-card" onclick="toggleModal('daily-modal')">
            <img src="https://img.icons8.com/fluency/48/calendar.png">
            <div>Ù…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ©</div>
        </div>
        <div class="task-card" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: ÙÙƒ Ø§Ù„Ø´ÙØ±Ø©!')">
            <img src="https://img.icons8.com/fluency/48/key.png">
            <div>Ø´ÙØ±Ø© Ù…ÙˆØ±Ø³</div>
        </div>
        <div class="task-card" onclick="toggleModal('social-modal')">
            <img src="https://img.icons8.com/fluency/48/share.png">
            <div>Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„</div>
        </div>
    </div>

    <div id="exchange-page" class="page active">
        <div class="balance-section">
            <img src="https://cdn-icons-png.flaticon.com/512/6585/6585012.png" width="40">
            <span id="balance">0</span>
        </div>
        <img src="https://img.freepik.com/premium-photo/cute-hamster-businessman-suit-generative-ai_955925-45.jpg" 
             class="hamster-btn" id="tap-target">
        
        <div class="energy-wrapper">
            <div>âš¡ <span id="energy-val">1000</span> / 1000</div>
            <div class="energy-bar"><div class="energy-fill" id="energy-fill-bar"></div></div>
        </div>
    </div>

    <div id="airdrop-page" class="page">
        <h2 style="text-align: center;">Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h2>
        <div style="background: var(--card-bg); padding: 20px; border-radius: 15px; text-align: center;">
            <img src="https://img.icons8.com/fluency/96/wallet.png" width="80">
            <p>Ø§Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© TON Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬</p>
            <button onclick="connectWallet()" style="background:#007aff; color:white; border:none; padding:15px 30px; border-radius:10px; width:100%; font-weight:bold;">Connect TON Wallet</button>
            <p id="wallet-status" style="margin-top:10px; color:var(--text-sub); font-size:12px;">Ø§Ù„Ù…Ø­ÙØ¸Ø© ØºÙŠØ± Ù…ØªØµÙ„Ø©</p>
        </div>
    </div>

    <div id="daily-modal" class="modal">
        <h3>Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
        <div class="daily-grid" id="daily-days-container">
            </div>
        <button onclick="toggleModal('daily-modal')" style="margin-top:20px; width:100%; padding:10px;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <div id="social-modal" class="modal">
        <h3>Ø§Ø´ØªØ±Ùƒ ÙˆØ§Ø±Ø¨Ø­</h3>
        <div class="social-task"><span>Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… (+500)</span><button onclick="claimSocial(500)">ÙØªØ­</button></div>
        <div class="social-task"><span>ÙŠÙˆØªÙŠÙˆØ¨ (+400)</span><button onclick="claimSocial(400)">ÙØªØ­</button></div>
        <div class="social-task"><span>ØªÙŠÙƒ ØªÙˆÙƒ (+300)</span><button onclick="claimSocial(300)">ÙØªØ­</button></div>
        <div class="social-task"><span>Ù…Ù†ØµØ© X (+200)</span><button onclick="claimSocial(200)">ÙØªØ­</button></div>
        <button onclick="toggleModal('social-modal')" style="margin-top:20px; width:100%; padding:10px;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <div id="settings-modal" class="modal">
        <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
        <p>Ø§Ù„Ù„ØºØ©: Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p>
        <p>Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²: Ù…ÙØ¹Ù„</p>
        <button onclick="alert('ØªÙ… Ø§Ù„Ø­ÙØ¸')" style="width:100%; padding:10px; background:var(--gold);">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
        <button onclick="toggleModal('settings-modal')" style="margin-top:10px; width:100%; padding:10px;">Ø±Ø¬ÙˆØ¹</button>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="showPage('exchange-page', this)">ğŸ <br>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="showPage('airdrop-page', this)">ğŸ’<br>Ø§Ù„Ù…Ø­ÙØ¸Ø©</div>
    </div>

    <script>
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        let balance = 0;
        let energy = 1000;
        let exp = 0;
        let level = 1;
        let dayStreak = 1; // Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ

        // 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ù„ÙŠÙÙ„ (ÙƒÙ„ Ù„ÙŠÙÙ„ ÙŠØ­ØªØ§Ø¬ 1000 Ù†Ù‚Ø·Ø© Ø®Ø¨Ø±Ø©)
        function updateLevel() {
            level = Math.floor(exp / 1000) + 1;
            let currentExpInLevel = exp % 1000;
            document.getElementById('level-num').innerText = level;
            document.getElementById('level-fill').style.width = (currentExpInLevel / 10) + "%";
            
            if(level > 5) document.getElementById('level-name').innerText = "Silver";
            if(level > 10) document.getElementById('level-name').innerText = "Gold";
        }

        // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ù‚Ø± (Ø§Ù„ØªØ¹Ø¯ÙŠÙ†)
        document.getElementById('tap-target').addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy > 0) {
                balance += 1;
                energy -= 1;
                exp += 5; // ÙƒÙ„ Ù†Ù‚Ø±Ø© ØªØ¹Ø·ÙŠ 5 Ø®Ø¨Ø±Ø©
                updateDisplay();
                updateLevel();
                if(window.Telegram.WebApp.HapticFeedback) window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
            }
        });

        // 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        function updateDisplay() {
            document.getElementById('balance').innerText = Math.floor(balance).toLocaleString();
            document.getElementById('energy-val').innerText = energy;
            document.getElementById('energy-fill-bar').style.width = (energy / 10) + "%";
        }

        // 4. Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„Ù†ÙˆØ§ÙØ°
        function showPage(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        function toggleModal(id) {
            let m = document.getElementById(id);
            m.style.display = (m.style.display === 'block') ? 'none' : 'block';
        }

        // 5. ØªÙˆÙ„ÙŠØ¯ Ø£ÙŠØ§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª (7 Ø£ÙŠØ§Ù…)
        const dailyContainer = document.getElementById('daily-days-container');
        for (let i = 1; i <= 7; i++) {
            let div = document.createElement('div');
            div.className = `day-box ${i === dayStreak ? 'active' : ''}`;
            div.innerHTML = `ÙŠÙˆÙ… ${i}<br><b>${i * 100}</b>`;
            div.onclick = () => {
                if(i === dayStreak) {
                    balance += (i * 100);
                    alert(`Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${i*100}`);
                    dayStreak++;
                    updateDisplay();
                } else {
                    alert("Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ù„ÙŠØ³ Ù…ØªØ§Ø­Ø§Ù‹ Ø¨Ø¹Ø¯");
                }
            };
            dailyContainer.appendChild(div);
        }

        // 6. Ø§Ù„Ù…Ø­ÙØ¸Ø©
        function connectWallet() {
            document.getElementById('wallet-status').innerText = "ØªÙ… Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­: UQC1...X9p";
            document.getElementById('wallet-status').style.color = "var(--accent)";
        }

        // 7. Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„
        function claimSocial(amount) {
            balance += amount;
            updateDisplay();
            alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©!");
        }

        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        setInterval(() => { if(energy < 1000) { energy += 2; updateDisplay(); } }, 2000);

        // Telegram WebApp Setup
        const tg = window.Telegram.WebApp;
        tg.expand();
        if(tg.initDataUnsafe.user) {
            document.getElementById('user-avatar').style.background = `url(${tg.initDataUnsafe.user.photo_url}) center/cover`;
        }
    </script>
</body>
</html>

