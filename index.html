<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Golden Hamster Ultimate</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #f3ba2f; --bg: #000; --card: #1c1f24; --purple: #8e44ad; --gray: #848b94; }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Cairo', sans-serif; overflow: hidden; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø³ØªÙˆÙ‰ (Ø§Ù„ÙÙŠÙ„) */
        .level-container { padding: 10px 15px; }
        .level-info { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 5px; }
        .progress-bar { width: 100%; height: 8px; background: #333; border-radius: 10px; overflow: hidden; border: 1px solid #444; }
        .progress-fill { width: 40%; height: 100%; background: linear-gradient(90deg, var(--gold), #fff); }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .top-nav { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; }
        .profile { display: flex; align-items: center; gap: 10px; }
        .profile img { width: 40px; height: 40px; border-radius: 10px; border: 2px solid var(--gold); }
        .settings-btn { font-size: 24px; cursor: pointer; color: var(--gray); }

        /* Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ù… (ØªØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†) */
        .daily-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 10px 15px; }
        .task-box { background: var(--card); border-radius: 15px; padding: 10px; text-align: center; border: 1px solid #2d333b; cursor: pointer; }
        .task-box:active { transform: scale(0.95); }
        .task-box img { width: 28px; display: block; margin: 0 auto 5px; }
        .task-box span { font-size: 10px; color: var(--gray); }

        /* Ø§Ù„Ø±ØµÙŠØ¯ */
        .balance-hero { text-align: center; margin: 20px 0; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .balance-hero h1 { font-size: 45px; margin: 0; font-weight: 900; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ù‚Ø± */
        .click-area { position: relative; width: 300px; height: 300px; margin: 0 auto; display: flex; justify-content: center; align-items: center; }
        .glow { position: absolute; width: 260px; height: 260px; background: radial-gradient(circle, var(--purple) 0%, transparent 70%); opacity: 0.6; }
        .main-coin { width: 240px; height: 240px; z-index: 5; cursor: pointer; transition: transform 0.05s; }
        .main-coin:active { transform: scale(0.92); }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ØªØ·Ø§ÙŠØ± (+1) */
        .floating-text { position: absolute; color: white; font-size: 24px; font-weight: 900; pointer-events: none; animation: flyUp 0.8s forwards; z-index: 10; }
        @keyframes flyUp { to { transform: translateY(-100px); opacity: 0; } }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø·Ø§Ù‚Ø© (ÙÙˆÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø±) */
        .energy-section { padding: 0 20px; margin-bottom: 90px; }
        .energy-text { display: flex; align-items: center; gap: 5px; font-weight: bold; margin-bottom: 5px; }
        .energy-bar { width: 100%; height: 12px; background: #222; border-radius: 10px; border: 1px solid #444; overflow: hidden; }
        .energy-fill { width: 100%; height: 100%; background: linear-gradient(90deg, #f3ba2f, #ffeb3b); transition: 0.3s; }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #111; display: flex; justify-content: space-around; padding: 10px 0 25px; border-top: 1px solid #333; }
        .nav-item { text-align: center; color: var(--gray); flex: 1; font-size: 11px; cursor: pointer; }
        .nav-item.active { color: white; }
        .nav-item i { font-size: 22px; display: block; margin-bottom: 4px; }

        /* Ø§Ù„ØµÙØ­Ø§Øª */
        .page { display: none; height: 85vh; overflow-y: auto; padding: 20px; }
        .active-page { display: block; }

        /* ÙƒØ±Øª Ø§Ù„ØªØ·ÙˆÙŠØ± */
        .upgrade-card { background: var(--card); border-radius: 15px; padding: 15px; border: 1px solid #333; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .buy-btn { background: var(--gold); border: none; padding: 8px 15px; border-radius: 10px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div id="home-page" class="page active-page">
    <div class="top-nav">
        <div class="profile">
            <img src="https://api.dicebear.com/7.x/bottts/svg?seed=Mugahed" id="user-img">
            <div>
                <b id="user-name">MUGAHED (CEO)</b><br>
                <small style="color:var(--gold)">Legendary ></small>
            </div>
        </div>
        <div class="settings-btn" onclick="openSettings()">âš™ï¸</div>
    </div>

    <div class="level-container">
        <div class="level-info"><span>Level 7/11</span><span>Profit per hour: <b id="p-hour" style="color:var(--gold)">+212K</b></span></div>
        <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>

    <div class="daily-grid">
        <div class="task-box" onclick="alert('Daily Reward Claimed!')">ğŸ<br><span>Daily reward</span></div>
        <div class="task-box" onclick="alert('Cipher Solved!')">ğŸ”‘<br><span>Daily cipher</span></div>
        <div class="task-box" onclick="alert('Combo Active!')">âš’ï¸<br><span>Daily combo</span></div>
    </div>

    <div class="balance-hero">
        <img src="https://cdn-icons-png.flaticon.com/512/6585/6585012.png" width="40">
        <h1 id="balance">0</h1>
    </div>

    <div class="click-area" id="click-zone">
        <div class="glow"></div>
        <img src="https://img.freepik.com/premium-photo/cute-hamster-businessman-suit-generative-ai_955925-45.jpg" class="main-coin" id="hamster-main">
    </div>

    <div class="energy-section">
        <div class="energy-text">âš¡ <span id="energy-val">1000</span> / 1000</div>
        <div class="energy-bar"><div class="progress-fill" id="energy-fill" style="width: 100%;"></div></div>
    </div>
</div>

<div id="mine-page" class="page">
    <h2 style="color:var(--gold)">Ø§Ù„ØªØ·ÙˆÙŠØ±Ø§Øª (Upgrades)</h2>
    <div class="upgrade-card">
        <div><b>Multi-Tap</b><br><small>Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ø¨Ø­ Ù…Ù† ÙƒÙ„ Ù†Ù‚Ø±Ø©</small><br><span style="color:var(--gold)">Cost: 500</span></div>
        <button class="buy-btn" onclick="upgradeClick()">Upgrade</button>
    </div>
    <div class="upgrade-card">
        <div><b>Mining Rig</b><br><small>Ø±Ø¨Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠ +500/Ø³Ø§Ø¹Ø©</small><br><span style="color:var(--gold)">Cost: 2000</span></div>
        <button class="buy-btn" onclick="upgradeMining()">Upgrade</button>
    </div>
</div>

<div class="nav-bar">
    <div class="nav-item active" onclick="showTab('home-page', this)"><i>ğŸ”„</i>Exchange</div>
    <div class="nav-item" onclick="showTab('mine-page', this)"><i>â›ï¸</i>Mine</div>
    <div class="nav-item" onclick="alert('Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©: t.me/bot?start=' + tg.initDataUnsafe.user.id)"><i>ğŸ‘¥</i>Friends</div>
    <div class="nav-item" onclick="alert('Wallet Coming Soon!')"><i>ğŸ’°</i>Wallet</div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let balance = 0;
    let energy = 1000;
    let tapValue = 1;
    let profitHour = 212000;

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù†Ù‚Ø± Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…ØªØ·Ø§ÙŠØ±Ø©
    const clickZone = document.getElementById('click-zone');
    const hamster = document.getElementById('hamster-main');

    hamster.addEventListener('touchstart', (e) => {
        e.preventDefault();
        if (energy >= tapValue) {
            balance += tapValue;
            energy -= tapValue;
            updateUI();
            spawnText(e.touches[0].clientX, e.touches[0].clientY);
            tg.HapticFeedback.impactOccurred('medium');
        }
    });

    function spawnText(x, y) {
        const text = document.createElement('div');
        text.className = 'floating-text';
        text.innerText = `+${tapValue}`;
        text.style.left = `${x}px`;
        text.style.top = `${y}px`;
        document.body.appendChild(text);
        setTimeout(() => text.remove(), 800);
    }

    function updateUI() {
        document.getElementById('balance').innerText = balance.toLocaleString();
        document.getElementById('energy-val').innerText = energy;
        document.getElementById('energy-fill').style.width = (energy / 10) + '%';
        document.getElementById('p-hour').innerText = `+${(profitHour/1000).toFixed(0)}K`;
    }

    // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    setInterval(() => {
        if (energy < 1000) { energy += 1; updateUI(); }
    }, 1500);

    function showTab(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active-page');
        el.classList.add('active');
    }

    function upgradeClick() {
        if(balance >= 500) { balance -= 500; tapValue += 1; updateUI(); alert('ØªÙ… Ø²ÙŠØ§Ø¯Ø© Ù‚ÙˆØ© Ø§Ù„Ù†Ù‚Ø±Ø©!'); }
    }

    function upgradeMining() {
        if(balance >= 2000) { balance -= 2000; profitHour += 500; updateUI(); alert('ØªÙ… Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ!'); }
    }

    // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ØªÙ„Ø¬Ø±Ø§Ù…
    document.getElementById('user-name').innerText = tg.initDataUnsafe.user?.first_name || "CEO";
    if(tg.initDataUnsafe.user?.photo_url) {
        document.getElementById('user-img').src = tg.initDataUnsafe.user.photo_url;
    }
</script>
</body>
</html>

