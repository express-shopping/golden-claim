<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elite Hamster Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #fbbf24; --secondary: #60a5fa; --bg: #020617;
            --card: #111827; --text: #ffffff; --glass: rgba(255, 255, 255, 0.05);
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Cairo', sans-serif; overflow: hidden; }

        /* --- Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª (Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø¬Ø°Ø±ÙŠ) --- */
        .page { position: fixed; inset: 0; background: var(--bg); display: none; padding: 20px; padding-bottom: 120px; overflow-y: auto; z-index: 100; }
        .page.active { display: block; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Ù‡ÙŠØ¯Ø± Ø«Ø§Ø¨Øª */
        .header { position: fixed; top: 0; width: 100%; z-index: 500; display: flex; align-items: center; padding: 20px; background: rgba(2, 6, 23, 0.8); backdrop-filter: blur(10px); }
        .user-pic { width: 45px; height: 45px; border-radius: 12px; border: 2px solid var(--secondary); background: #1e293b; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙˆØ§Ø²Ù† ÙˆØ§Ù„Ù†Ù‚Ø± */
        .hero { text-align: center; margin-top: 80px; }
        .balance { font-size: 45px; font-weight: 900; color: var(--text); display: flex; align-items: center; justify-content: center; gap: 10px; margin: 20px 0; }
        
        .tap-btn { width: 240px; height: 240px; margin: 0 auto; position: relative; cursor: pointer; }
        .circle { width: 100%; height: 100%; border-radius: 50%; background: radial-gradient(circle, #1e293b, #020617); border: 8px solid var(--glass); overflow: hidden; transition: transform 0.1s; }
        .circle:active { transform: scale(0.92); }
        .circle img { width: 100%; height: 100%; object-fit: cover; }

        /* ØµÙØ­Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø±Ø§Ù‚ÙŠ */
        .wallet-ui { background: linear-gradient(145deg, #0f172a, #000); padding: 30px; border-radius: 25px; border: 1px solid #1e293b; text-align: center; margin-top: 50px; }
        .wallet-balance { font-size: 32px; font-weight: 800; color: var(--primary); margin: 15px 0; }
        .connect-btn { background: #007aff; color: white; border: none; width: 100%; padding: 15px; border-radius: 15px; font-weight: 900; cursor: pointer; box-shadow: 0 4px 15px rgba(0,122,255,0.3); }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… */
        .task-card { background: var(--card); padding: 15px; border-radius: 15px; border: 1px solid var(--glass); display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .task-btn { background: var(--secondary); border: none; color: white; padding: 8px 15px; border-radius: 10px; font-weight: 700; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ù†Ø§Ù Ø¨Ø§Ø± */
        .footer-info { position: fixed; bottom: 90px; width: 100%; padding: 0 30px; }
        .energy-bar { width: 100%; height: 8px; background: #1e293b; border-radius: 10px; overflow: hidden; margin-top: 5px; }
        .energy-fill { width: 100%; height: 100%; background: var(--primary); transition: width 0.3s; }

        .nav-bar { position: fixed; bottom: 15px; left: 15px; right: 15px; background: rgba(17, 24, 39, 0.95); backdrop-filter: blur(15px); display: flex; justify-content: space-around; padding: 12px; border-radius: 25px; border: 1px solid var(--glass); z-index: 1000; }
        .nav-item { text-align: center; color: #6b7280; font-size: 10px; font-weight: bold; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--secondary); transform: translateY(-5px); transition: 0.3s; }
        .nav-item i { font-size: 20px; display: block; margin-bottom: 3px; }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø± */
        .pop { position: absolute; color: white; font-size: 28px; font-weight: 900; pointer-events: none; animation: popUp 0.8s forwards; }
        @keyframes popUp { to { transform: translateY(-120px); opacity: 0; } }
    </style>
</head>
<body>

    <div class="header">
        <img id="u-img" src="" class="user-pic">
        <div style="margin-right: 12px;">
            <b id="u-name">Elite Player</b>
            <div style="font-size: 10px; color: var(--primary);">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="lvl">1</span></div>
        </div>
    </div>

    <div id="home-page" class="page active">
        <div class="hero">
            <div class="balance">
                <img src="https://cdn-icons-png.flaticon.com/512/6585/6585012.png" width="40">
                <span id="bal-txt">0</span>
            </div>
            <div class="tap-btn" id="tap-trigger">
                <div class="circle">
                    <img src="https://img.freepik.com/premium-photo/cute-hamster-businessman-suit-generative-ai_955925-45.jpg">
                </div>
            </div>
        </div>
        <div class="footer-info">
            <div style="display:flex; justify-content:space-between; font-size:12px;">
                <span>âš¡ Ø§Ù„Ø·Ø§Ù‚Ø©</span>
                <span id="en-txt">1000/1000</span>
            </div>
            <div class="energy-bar"><div id="en-fill" class="energy-fill"></div></div>
        </div>
    </div>

    <div id="earn-page" class="page">
        <h2 style="margin-top:60px;">Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ø¬ÙˆØ§Ø¦Ø²</h2>
        <div class="task-card">
            <div><b>Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…</b><br><small>+1,000 Ù‚Ø·Ø¹Ø©</small></div>
            <button class="task-btn" onclick="claim(1000, this)">Ø§Ø³ØªÙ„Ø§Ù…</button>
        </div>
        <div class="task-card">
            <div><b>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨</b><br><small>+50,000 Ù‚Ø·Ø¹Ø©</small></div>
            <button class="task-btn" onclick="window.open('https://youtube.com')">Ø§Ù†ØªÙ‚Ø§Ù„</button>
        </div>
    </div>

    <div id="wallet-page" class="page">
        <h2 style="margin-top:60px; text-align:center;">Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h2>
        <div class="wallet-ui">
            <img src="https://img.icons8.com/fluency/96/wallet.png" width="80">
            <div style="color:#94a3b8; margin-top:10px;">Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
            <div class="wallet-balance" id="w-bal">0</div>
            <button class="connect-btn" onclick="tg.showAlert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© TON Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ø±Ø³Ù…ÙŠ!')">Connect TON Wallet</button>
        </div>
        <p style="text-align:center; font-size:12px; color:#64748b; margin-top:20px;">Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„ Ù†Ù‚Ø§Ø·Ùƒ Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù‚Ø±ÙŠØ¨Ø§Ù‹.</p>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="nav('home-page', this)"><i>ğŸ </i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="nav('earn-page', this)"><i>ğŸ’°</i>Ø§Ù„Ù…Ù‡Ø§Ù…</div>
        <div class="nav-item" onclick="nav('wallet-page', this)"><i>ğŸ’</i>Ø§Ù„Ù…Ø­ÙØ¸Ø©</div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let balance = 0;
        let energy = 1000;

        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†Ù‚Ù„ (Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„ØªÙŠ ØªØ¬Ø¹Ù„ Ø§Ù„Ù…Ø­ÙØ¸Ø© ØªØ¹Ù…Ù„)
        function nav(pageId, el) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            // Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(pageId).classList.add('active');
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
            el.classList.add('active');
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø±
        document.getElementById('tap-trigger').addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy >= 1) {
                balance += 1;
                energy -= 1;
                createPop(e.touches[0].clientX, e.touches[0].clientY);
                updateUI();
                tg.HapticFeedback.impactOccurred('medium');
            }
        });

        function createPop(x, y) {
            const p = document.createElement('div');
            p.className = 'pop'; p.innerText = '+1';
            p.style.left = x + 'px'; p.style.top = y + 'px';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 800);
        }

        function updateUI() {
            document.getElementById('bal-txt').innerText = balance.toLocaleString();
            document.getElementById('w-bal').innerText = balance.toLocaleString();
            document.getElementById('en-txt').innerText = energy + "/1000";
            document.getElementById('en-fill').style.width = (energy / 10) + "%";
            document.getElementById('lvl').innerText = Math.floor(balance / 1000) + 1;
        }

        function claim(amt, btn) {
            balance += amt;
            btn.innerText = "ØªÙ… âœ“";
            btn.disabled = true;
            updateUI();
        }

        // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø©
        setInterval(() => {
            if (energy < 1000) { energy += 1; updateUI(); }
        }, 1500);

        // Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ø¬Ø±Ø§Ù…
        if(tg.initDataUnsafe.user) {
            document.getElementById('u-name').innerText = tg.initDataUnsafe.user.first_name;
            if(tg.initDataUnsafe.user.photo_url) document.getElementById('u-img').src = tg.initDataUnsafe.user.photo_url;
        }

        updateUI();
    </script>
</body>
</html>

